% ---------- Math Symbols ----------
\newcommand{\bb}[1]{\mathbb{#1}}

\newcommand{\T}{\theta}

\newcommand{\der}[2]{\frac{d #1}{d #2}}

% For T-diagrams
\tikzstyle{tblock} = [matrix of nodes,ampersand replacement=\&,nodes={
    outer sep=0pt,text width=2em,inner ysep=1em,text centered
}]

% \tblock {input} {output} {machine}
\newcommand{\tblocktext}[3]{
    {#1} \& $\to$   \& {#2} \\
         \&  {#3}   \&      \\
}

\newcommand{\tblockoutline}[1]{
    \draw (#1-1-1.south west) |- (#1-1-3.north east) |- (#1-1-3.south west) |- (#1-2-2.south west) |- (#1-1-1.south west);
}

\tikzstyle{wblock} = [outer sep=0pt,text width=2em,inner ysep=0.5em,text centered,font=\footnotesize]

\newcommand{\wblockoutline}[1]{
    \draw (#1.south) -- (#1.north west) -- (#1.north east) -- (#1.south);
}

\def\compiler at (#1,#2,#3,#4,#5){
 \draw (#1, #2) -- (#1+3, #2) -- (#1+3, #2-1) -- (#1+2, #2-1) -- (#1+2, #2-2)
 -- (#1+1, #2-2) -- (#1+1, #2-1) -- (#1, #2-1) -- (#1, #2)
 (#1+0.5, #2-0.5) node {\small #3}
 (#1+2.5, #2-0.5) node {\small #4}
 (#1+1.5, #2-1.5) node {\small #5};
}

\def\interpreter at (#1,#2,#3,#4){
 \draw (#1, #2) -- (#1+1, #2) -- (#1+1, #2-2) -- (#1, #2-2) -- (#1, #2)
 (#1+0.5, #2-0.5) node {\small #3}
 (#1+0.5, #2-1.5) node {\small #4};
}

\def\machine at (#1,#2,#3){
 \draw (#1, #2) -- (#1+1, #2) -- (#1+0.5, #2-0.86) -- (#1, #2)
 (#1+0.5, #2-0.2) node {\tiny #3};
}
\def\unspecifiedprogram at (#1,#2,#3){
    \draw (#1, #2+1) -- (#1, #2) --  (#1+1, #2) -- (#1+1, #2+1);
    \draw (#1, #2+1) .. controls (#1-1, #2+2) and (#1+2, #2+2) .. (#1+1, #2+1)
    (#1+0.5, #2+0.5) node {\small #3};
}